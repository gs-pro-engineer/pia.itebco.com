{"version":3,"file":"js/chunks/app/meeting/add~app/meeting/edit~app/room/add~app/room/edit.js?id=e64638f1a0ce7a8e190c","sources":["webpack:///modal-form.vue","webpack:///./resources/js/views/app/option/modal-form.vue?1b83","webpack:///./resources/js/mixins/modal-form.js","webpack:///./resources/js/views/app/option/modal-form.vue","webpack:///./resources/js/views/app/option/modal-form.vue?9e9e","webpack:///./resources/js/views/app/option/modal-form.vue?dfe3"],"sourcesContent":["<template>\n    <form @submit.prevent=\"preSubmit\" class=\"has-fixed-footer\">\n\n        <h5 class=\"text-center\">{{ $t('global.add', {attribute: $t('option.option')}) }}</h5>\n\n        <hr>\n\n        <animated-loader :is-loading=\"isLoading\" :loader-color=\"vars.loaderColor\" />\n\n        <div class=\"row\">\n            <div class=\"col-12 mb-4\">\n                <base-input auto-focus :label=\"formLabels.name\" type=\"text\" v-model=\"formData.name\" :error.sync=\"formErrors.name\" @blur=\"createSlug\" required />\n            </div>\n            <div v-if=\"hasSlug\" class=\"col-12 mb-4\">\n                <base-input :label=\"formLabels.slug\" type=\"text\" v-model=\"formData.slug\" :error.sync=\"formErrors.slug\" @focus=\"createSlug\" @blur=\"createSlug\" format=\"kebabCase\" required />\n            </div>\n            <div v-if=\"hasParent\" class=\"col-12 mb-4\">\n                <base-select :options=\"preRequisite.options\" v-model=\"formData.parent\" :label=\"formLabels.parent\" :error.sync=\"formErrors.parent\" :allow-empty=\"true\" :disabled=\"isLoading\" track-by=\"uuid\" show-by=\"nameWithParents\" />\n            </div>\n            <div class=\"col-12 mb-4\">\n                <base-input :label=\"formLabels.description\" type=\"text\" v-model=\"formData.description\" :error.sync=\"formErrors.description\" />\n            </div>\n        </div>\n\n        <div class=\"form-footer fixed-footer mt-5\">\n            <div class=\"left-side\">\n                <base-button type=\"button\" design=\"light\" @click=\"close()\" tabindex=\"-1\"><i class=\"fas fa-chevron-left\"></i> {{ $t('general.cancel') }}</base-button>\n            </div>\n            <div class=\"right-side\">\n                <base-button type=\"submit\" design=\"primary\"><i class=\"fas fa-save\"></i> {{ $t('global.save', { attribute: $t('option.option') } ) }}</base-button>\n            </div>\n        </div>\n    </form>\n</template>\n\n<script>\n    import form from '@mixins/modal-form'\n\n    export default {\n        extends: form,\n        props: {\n            meta: {\n                type: Object,\n                required: true\n            },\n        },\n        data() {\n            return {\n                formData: {\n                    uuid: null,\n                    name: '',\n                    slug: '',\n                    description: '',\n                    parent: null,\n                    type: null,\n                },\n                hasSlug: false,\n                hasParent: false,\n                preRequisite: {\n                    options: [],\n                },\n                formLabels: {\n                    name: $t('option.props.name'),\n                    slug: $t('option.props.slug'),\n                    description: $t('option.props.description'),\n                    parent: $t('option.props.parent'),\n                    type: $t('option.props.type'),\n                },\n                initUrl: 'options',\n                dataType: 'option',\n                dataTypeArr: 'options',\n                propertyToMatch: 'name',\n                entityTitle: 'option.option',\n            }\n        },\n        watch: {\n            meta: {\n                deep: true,\n                handler(newValue, oldValue) {\n                    this.formData.type = newValue.optionType\n                    this.entityTitle = newValue.entityTitle\n                    this.dataType = newValue.dataType\n                    this.dataTypeArr = newValue.dataTypeArr\n                    this.hasSlug = newValue.hasSlug\n                    this.hasParent = newValue.hasParent\n                }\n            }\n        },\n        methods: {\n            createSlug() {\n                if(this.showKeepAdding && this.formData.name != this.initialFormData.name) {\n                    this.formData.slug = this.formData.name.kebabCase()\n                } else {\n                    this.formData.slug = this.formData.slug ? this.formData.slug : this.formData.name.kebabCase()\n                }\n            },\n            preSubmit() {\n                this.createSlug()\n\n                if(this.hasParent && ! this.formData.parent) {\n                    this.$toasted.error($t('global.invalid', { attribute: $t('option.props.parent') }), this.$toastConfig.error)\n                    return\n                }\n\n                this.submit()\n            }\n        },\n        mounted() {\n            this.getInitialData()\n        },\n        created() {\n            this.formData.type = this.meta.optionType\n            this.entityTitle = this.meta.entityTitle\n            this.dataType = this.meta.dataType\n            this.dataTypeArr = this.meta.dataTypeArr\n            this.hasSlug = this.meta.hasSlug\n            this.hasParent = this.meta.hasParent\n        },\n    }\n\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"form\",\n    {\n      staticClass: \"has-fixed-footer\",\n      on: {\n        submit: function($event) {\n          $event.preventDefault()\n          return _vm.preSubmit.apply(null, arguments)\n        }\n      }\n    },\n    [\n      _c(\"h5\", { staticClass: \"text-center\" }, [\n        _vm._v(\n          _vm._s(_vm.$t(\"global.add\", { attribute: _vm.$t(\"option.option\") }))\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"hr\"),\n      _vm._v(\" \"),\n      _c(\"animated-loader\", {\n        attrs: {\n          \"is-loading\": _vm.isLoading,\n          \"loader-color\": _vm.vars.loaderColor\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"row\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"col-12 mb-4\" },\n          [\n            _c(\"base-input\", {\n              attrs: {\n                \"auto-focus\": \"\",\n                label: _vm.formLabels.name,\n                type: \"text\",\n                error: _vm.formErrors.name,\n                required: \"\"\n              },\n              on: {\n                \"update:error\": function($event) {\n                  return _vm.$set(_vm.formErrors, \"name\", $event)\n                },\n                blur: _vm.createSlug\n              },\n              model: {\n                value: _vm.formData.name,\n                callback: function($$v) {\n                  _vm.$set(_vm.formData, \"name\", $$v)\n                },\n                expression: \"formData.name\"\n              }\n            })\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _vm.hasSlug\n          ? _c(\n              \"div\",\n              { staticClass: \"col-12 mb-4\" },\n              [\n                _c(\"base-input\", {\n                  attrs: {\n                    label: _vm.formLabels.slug,\n                    type: \"text\",\n                    error: _vm.formErrors.slug,\n                    format: \"kebabCase\",\n                    required: \"\"\n                  },\n                  on: {\n                    \"update:error\": function($event) {\n                      return _vm.$set(_vm.formErrors, \"slug\", $event)\n                    },\n                    focus: _vm.createSlug,\n                    blur: _vm.createSlug\n                  },\n                  model: {\n                    value: _vm.formData.slug,\n                    callback: function($$v) {\n                      _vm.$set(_vm.formData, \"slug\", $$v)\n                    },\n                    expression: \"formData.slug\"\n                  }\n                })\n              ],\n              1\n            )\n          : _vm._e(),\n        _vm._v(\" \"),\n        _vm.hasParent\n          ? _c(\n              \"div\",\n              { staticClass: \"col-12 mb-4\" },\n              [\n                _c(\"base-select\", {\n                  attrs: {\n                    options: _vm.preRequisite.options,\n                    label: _vm.formLabels.parent,\n                    error: _vm.formErrors.parent,\n                    \"allow-empty\": true,\n                    disabled: _vm.isLoading,\n                    \"track-by\": \"uuid\",\n                    \"show-by\": \"nameWithParents\"\n                  },\n                  on: {\n                    \"update:error\": function($event) {\n                      return _vm.$set(_vm.formErrors, \"parent\", $event)\n                    }\n                  },\n                  model: {\n                    value: _vm.formData.parent,\n                    callback: function($$v) {\n                      _vm.$set(_vm.formData, \"parent\", $$v)\n                    },\n                    expression: \"formData.parent\"\n                  }\n                })\n              ],\n              1\n            )\n          : _vm._e(),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"col-12 mb-4\" },\n          [\n            _c(\"base-input\", {\n              attrs: {\n                label: _vm.formLabels.description,\n                type: \"text\",\n                error: _vm.formErrors.description\n              },\n              on: {\n                \"update:error\": function($event) {\n                  return _vm.$set(_vm.formErrors, \"description\", $event)\n                }\n              },\n              model: {\n                value: _vm.formData.description,\n                callback: function($$v) {\n                  _vm.$set(_vm.formData, \"description\", $$v)\n                },\n                expression: \"formData.description\"\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"form-footer fixed-footer mt-5\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"left-side\" },\n          [\n            _c(\n              \"base-button\",\n              {\n                attrs: { type: \"button\", design: \"light\", tabindex: \"-1\" },\n                on: {\n                  click: function($event) {\n                    return _vm.close()\n                  }\n                }\n              },\n              [\n                _c(\"i\", { staticClass: \"fas fa-chevron-left\" }),\n                _vm._v(\" \" + _vm._s(_vm.$t(\"general.cancel\")))\n              ]\n            )\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"right-side\" },\n          [\n            _c(\n              \"base-button\",\n              { attrs: { type: \"submit\", design: \"primary\" } },\n              [\n                _c(\"i\", { staticClass: \"fas fa-save\" }),\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$t(\"global.save\", {\n                        attribute: _vm.$t(\"option.option\")\n                      })\n                    )\n                )\n              ]\n            )\n          ],\n          1\n        )\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { mapGetters, mapActions } from 'vuex'\nimport { numberPadding } from '@core/utils'\n\nexport default {\n    components: {},\n    props: {\n        pushToArr: {\n            type: Boolean,\n            default: false\n        },\n    },\n    data() {\n        return {\n            formData: {},\n            formErrors: {},\n            initialFormData: null,\n            emptyFormData: null,\n            entity: null,\n            preRequisite: {},\n            isLoading: true,\n            initUrl: '',\n            dataType: null,\n            dataTypeArr: null,\n            propertyToMatch: null,\n        }\n    },\n    computed: {\n        ...mapGetters('config', [\n            'configs',\n            'vars',\n        ]),\n        codePrefix() {\n            return this.formData.codePrefix\n        },\n        formHasErrors() {\n            let ans = false\n            this.formErrors.objForEach(er => {\n                ans = er !== '' ? true : ans\n            })\n            return ans\n        },\n    },\n    watch: {\n        codePrefix: function(val) {\n            if(this.preRequisite.codes) {\n                const codeObj = this.preRequisite.codes.find(v => v.codePrefix === val)\n                const codeDigit = this.configs[this.dataType].codeDigit\n\n                if (codeObj) {\n                    this.formData.codeNumber = numberPadding(codeObj.codeNumber + 1, codeDigit)\n                } else {\n                    this.formData.codeNumber = numberPadding(1, codeDigit)\n                }\n            }\n        }\n    },\n    methods: {\n        ...mapActions('common', [\n            'Init',\n            'Store',\n            'GetPreRequisite',\n            'Custom',\n        ]),\n        ...mapActions('config', [\n            'SetUiConfig',\n        ]),\n        submit() {\n            if(formUtil.isUnchanged(this.initialFormData, this.formData)) {\n                this.$toasted.info(this.$t('general.nothing_changed'), this.$toastConfig.info)\n                return false\n            }\n\n            this.isLoading = true\n            this.Store(this.formData)\n                .then(response => {\n                    this.$toasted.success(response.message, this.$toastConfig)\n                    this.initialFormData = _.cloneDeep(this.formData)\n                    if(response.hasOwnProperty(this.dataType)) {\n                        this.entity = response[this.dataType]\n                    }\n                    this.close(true)\n                    this.isLoading = false\n                })\n                .catch(error => {\n                    this.isLoading = false\n                    this.formErrors = Object.assign(this.formErrors, formUtil.handleErrors(error))\n                })\n        },\n        fillPreRequisite(response) {\n            this.preRequisite.objForEach((value, key) => {\n                this.preRequisite[key] = response.hasOwnProperty(key) ? response[key] : value\n            })\n            this.isLoading = false\n        },\n        async getInitialData(callbackFn) {\n            this.isLoading = true\n            try {\n                const response = await this.GetPreRequisite()\n                this.fillPreRequisite(response)\n\n                if(this.configs[this.dataType]) {\n                    this.$nextTick(() => {\n                        this.formData.codePrefix = this.configs[this.dataType].codePrefix\n                    })\n                }\n\n                if(callbackFn) {\n                    this.$nextTick(() => {\n                        callbackFn()\n                    })\n                }\n                return response\n            } catch (error) {\n                this.isLoading = false\n                this.formErrors = formUtil.handleErrors(error)\n                throw error\n            }\n        },\n        close(stored) {\n            if(stored === true) {\n                this.$emit('close', Object.assign({}, (this.entity ? this.entity : this.formData), { dataType: this.dataType, dataTypeArr: this.dataTypeArr, propertyToMatch: this.propertyToMatch, dontMatch: this.entity ? true : false, push: this.pushToArr }))\n            } else {\n                this.$emit('close')\n            }\n            this.SetUiConfig({ modalSidebarShow: false })\n        },\n        addTag(newTag) {\n            const tag = {\n                name: newTag,\n                slug: formUtil.generateSlug(newTag)\n            }\n            this.preRequisite.tags.push(tag)\n            this.formData.tags.push(tag)\n        },\n    },\n    mounted() {\n        this.Init({ url: this.initUrl })\n        this.initialFormData = _.cloneDeep(this.formData)\n    },\n    beforeDestroy () {\n        delete this.formData\n        delete this.formErrors\n        delete this.preRequisite\n    },\n}\n","import { render, staticRenderFns } from \"./modal-form.vue?vue&type=template&id=6ebd99e1&\"\nimport script from \"./modal-form.vue?vue&type=script&lang=js&\"\nexport * from \"./modal-form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/pia.itebco.com/public_html/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6ebd99e1')) {\n      api.createRecord('6ebd99e1', component.options)\n    } else {\n      api.reload('6ebd99e1', component.options)\n    }\n    module.hot.accept(\"./modal-form.vue?vue&type=template&id=6ebd99e1&\", function () {\n      api.rerender('6ebd99e1', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/app/option/modal-form.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-form.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-form.vue?vue&type=template&id=6ebd99e1&\""],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAzBA;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AADA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/EA;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjNA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAaA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAgBA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAcA;AAUA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AACA;AADA;AAAA;AAAA;AAmBA;AACA;AApBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AA7EA;AA+EA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5IA;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}