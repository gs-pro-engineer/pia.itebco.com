{"version":3,"file":"js/chunks/app/user/profile/image/view.js?id=955a53696e9925b5a776","sources":["webpack:///view.vue","webpack:///./resources/js/views/app/user/profile/image/view.vue?79a2","webpack:///./resources/images/avatars/default-profile-image-female-kid.png","webpack:///./resources/images/avatars/default-profile-image-female-teen.png","webpack:///./resources/images/avatars/default-profile-image-female.png","webpack:///./resources/images/avatars/default-profile-image-male-kid.png","webpack:///./resources/images/avatars/default-profile-image-male-teen.png","webpack:///./resources/images/avatars/default-profile-image-male.png","webpack:///./resources/js/api/uploader.js","webpack:///./resources/js/views/app/user/profile/image/view.vue","webpack:///./resources/js/views/app/user/profile/image/view.vue?1383","webpack:///./resources/js/views/app/user/profile/image/view.vue?3640"],"sourcesContent":["<template>\n    <base-container boxed with-loader :is-loading=\"isLoading\" :loader-color=\"vars.loaderColor\">\n\n        <div class=\"row\" v-if=\"loggedInUser\">\n            <div class=\"col-12\">\n                <h4 class=\"text-center mb-5\">{{ $t('global.upload', { attribute: $t('user.props.image') }) }} for {{ loggedInUser.name }}</h4>\n                <hr>\n            </div>\n\n            <div class=\"col-12 col-md-6 d-flex justify-content-center\">\n                <image-uploader :url=\"`/profile/avatar`\" name-label=\"user.props.image\" :existing-image=\"loggedInUser.avatar\" :placeholder=\"getUserImage(loggedInUser.gender, loggedInUser.age)\" @uploaded=\"getInitialData\" remove-from-server @removed=\"getInitialData\" profile />\n            </div>\n\n            <div class=\"col-12 col-md-6 d-flex justify-content-center\">\n                <image-uploader :url=\"`/profile/avatar?type=cover`\" name-label=\"user.props.cover_image\" :existing-image=\"loggedInUser.cover\" :placeholder=\"getUserImage(loggedInUser.gender, loggedInUser.age)\" @uploaded=\"getInitialData\" remove-from-server @removed=\"getInitialData\" />\n            </div>\n        </div>\n\n        <div class=\"form-footer mt-5\">\n            <div class=\"left-side\">\n                <base-button type=\"button\" design=\"light\" @click=\"$router.back()\" tabindex=\"-1\"><i class=\"fas fa-chevron-left\"></i> {{ $t('general.back') }}</base-button>\n            </div>\n        </div>\n\n    </base-container>\n</template>\n\n<script>\n    import ImageUploader from '@components/ImageUploader'\n    import { mapGetters, mapActions } from 'vuex'\n    import * as formUtil from '@js/core/utils/form'\n    import ProfileImageMaleKid from '@resources/images/avatars/default-profile-image-male-kid.png'\n    import ProfileImageFemaleKid from '@resources/images/avatars/default-profile-image-female-kid.png'\n    import ProfileImageMaleTeen from '@resources/images/avatars/default-profile-image-male-teen.png'\n    import ProfileImageFemaleTeen from '@resources/images/avatars/default-profile-image-female-teen.png'\n    import ProfileImageMale from '@resources/images/avatars/default-profile-image-male.png'\n    import ProfileImageFemale from '@resources/images/avatars/default-profile-image-female.png'\n\n    export default {\n        components: {\n            ImageUploader,\n        },\n        data() {\n            return {\n                isLoading : false,\n            }\n        },\n        computed: {\n            ...mapGetters('config', [\n                'configs',\n                'vars',\n            ]),\n            ...mapGetters('user', [\n                'loggedInUser',\n            ]),\n        },\n        methods: {\n            ...mapActions('common', [\n                'Init',\n                'Custom',\n            ]),\n            ...mapActions('user', [\n                'GetUser',\n            ]),\n            handleUploadError(errorMessage) {\n                this.$toasted.error(errorMessage, this.$toastConfig.error)\n            },\n            getUserImage(gender, age) {\n                if(!gender) {\n                    return ProfileImageMale\n                }\n\n                if (gender.uuid === 'male') {\n                    if (age) {\n                        if (age.years < 13) {\n                            return ProfileImageMaleKid\n                        } else if (age.years < 18) {\n                            return ProfileImageMaleTeen\n                        }\n                    }\n                    return ProfileImageMale\n                } else {\n                    if (age) {\n                        if (age.years < 13) {\n                            return ProfileImageFemaleKid\n                        } else if (age.years < 18) {\n                            return ProfileImageFemaleTeen\n                        }\n                    }\n                    return ProfileImageFemale\n                }\n            },\n            getInitialData() {\n                this.isLoading = true\n                this.GetUser()\n                    .then(response => {\n                        this.isLoading = false\n                    })\n                    .catch(error => {\n                        this.isLoading = false\n                        formUtil.handleErrors(error)\n                    })\n            },\n        },\n        mounted() {\n            this.Init({ url: 'users' })\n            this.getInitialData()\n        },\n    }\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"base-container\",\n    {\n      attrs: {\n        boxed: \"\",\n        \"with-loader\": \"\",\n        \"is-loading\": _vm.isLoading,\n        \"loader-color\": _vm.vars.loaderColor\n      }\n    },\n    [\n      _vm.loggedInUser\n        ? _c(\"div\", { staticClass: \"row\" }, [\n            _c(\"div\", { staticClass: \"col-12\" }, [\n              _c(\"h4\", { staticClass: \"text-center mb-5\" }, [\n                _vm._v(\n                  _vm._s(\n                    _vm.$t(\"global.upload\", {\n                      attribute: _vm.$t(\"user.props.image\")\n                    })\n                  ) +\n                    \" for \" +\n                    _vm._s(_vm.loggedInUser.name)\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"hr\")\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"col-12 col-md-6 d-flex justify-content-center\" },\n              [\n                _c(\"image-uploader\", {\n                  attrs: {\n                    url: \"/profile/avatar\",\n                    \"name-label\": \"user.props.image\",\n                    \"existing-image\": _vm.loggedInUser.avatar,\n                    placeholder: _vm.getUserImage(\n                      _vm.loggedInUser.gender,\n                      _vm.loggedInUser.age\n                    ),\n                    \"remove-from-server\": \"\",\n                    profile: \"\"\n                  },\n                  on: {\n                    uploaded: _vm.getInitialData,\n                    removed: _vm.getInitialData\n                  }\n                })\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"col-12 col-md-6 d-flex justify-content-center\" },\n              [\n                _c(\"image-uploader\", {\n                  attrs: {\n                    url: \"/profile/avatar?type=cover\",\n                    \"name-label\": \"user.props.cover_image\",\n                    \"existing-image\": _vm.loggedInUser.cover,\n                    placeholder: _vm.getUserImage(\n                      _vm.loggedInUser.gender,\n                      _vm.loggedInUser.age\n                    ),\n                    \"remove-from-server\": \"\"\n                  },\n                  on: {\n                    uploaded: _vm.getInitialData,\n                    removed: _vm.getInitialData\n                  }\n                })\n              ],\n              1\n            )\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"form-footer mt-5\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"left-side\" },\n          [\n            _c(\n              \"base-button\",\n              {\n                attrs: { type: \"button\", design: \"light\", tabindex: \"-1\" },\n                on: {\n                  click: function($event) {\n                    return _vm.$router.back()\n                  }\n                }\n              },\n              [\n                _c(\"i\", { staticClass: \"fas fa-chevron-left\" }),\n                _vm._v(\" \" + _vm._s(_vm.$t(\"general.back\")))\n              ]\n            )\n          ],\n          1\n        )\n      ])\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","module.exports = \"/images/default-profile-image-female-kid.png?a698c120d375307de1ec9bc66eb39a68\";","module.exports = \"/images/default-profile-image-female-teen.png?08f8f40c141d4d9130622bed6ce75020\";","module.exports = \"/images/default-profile-image-female.png?f06ec6078fcc441923987bf158202c95\";","module.exports = \"/images/default-profile-image-male-kid.png?db33f81a8becd3256ed9d97fe79d62a9\";","module.exports = \"/images/default-profile-image-male-teen.png?54adcbaedc1c7db829c01303f13b3441\";","module.exports = \"/images/default-profile-image-male.png?82fe52757240e0913ffeb5c5ab65b953\";","import { instance as request, instanceSilent as silentRequest } from '@core/utils/request'\n\nexport function uploadImage(options, onUploadProgress) {\n    return request({\n        url: options.url,\n        method: 'post',\n        data: options.data,\n        upload: true,\n        config: { headers: { 'Content-Type': 'multipart/form-data' } },\n        headers: { 'Content-Type': 'multipart/form-data; charset=utf-8; boundary=' + Math.random().toString().substr(2) },\n        onUploadProgress,\n    })\n}\n\nexport function removeImage(options) {\n    return request({\n        url: options.url,\n        method: 'delete',\n        data: options.data\n    })\n}\n\nexport function uploadFile(options, onUploadProgress, cancelToken) {\n    const data = {\n        url: options.url,\n        method: 'post',\n        data: options.data,\n        upload: true,\n        config: { headers: { 'Content-Type': 'multipart/form-data' } },\n        headers: { 'Content-Type': 'multipart/form-data; charset=utf-8; boundary=' + Math.random().toString().substr(2) },\n        onUploadProgress,\n        cancelToken,\n    }\n\n    if (options.silent) {\n        return silentRequest(data)\n    }\n    return request(data)\n}\n\nexport function removeFile(options) {\n    return request({\n        url: options.url,\n        method: 'delete',\n        data: options.data\n    })\n}\n","import { render, staticRenderFns } from \"./view.vue?vue&type=template&id=ea21fdb4&\"\nimport script from \"./view.vue?vue&type=script&lang=js&\"\nexport * from \"./view.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/pia.itebco.com/public_html/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ea21fdb4')) {\n      api.createRecord('ea21fdb4', component.options)\n    } else {\n      api.reload('ea21fdb4', component.options)\n    }\n    module.hot.accept(\"./view.vue?vue&type=template&id=ea21fdb4&\", function () {\n      api.rerender('ea21fdb4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/app/user/profile/image/view.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=template&id=ea21fdb4&\""],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AASA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AA9CA;AAgDA;AACA;AAAA;AAAA;AACA;AACA;AArEA;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjHA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAPA;AASA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}