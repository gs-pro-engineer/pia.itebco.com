{"version":3,"file":"js/chunks/auth/password.js?id=061f946552c8d55af92e","sources":["webpack:///password.vue","webpack:///./resources/js/views/auth/password.vue?7989","webpack:///./resources/js/mixins/auth-form.js","webpack:///./resources/js/views/auth/password.vue","webpack:///./resources/js/views/auth/password.vue?b04a","webpack:///./resources/js/views/auth/password.vue?8270"],"sourcesContent":["<template>\n    <div class=\"guest-page\">\n        <box>\n            <animated-loader :is-loading=\"isLoading\" :loader-color=\"vars.loaderColor\" />\n\n            <guest-header>\n                <h5>{{ $t('auth.password.forgot.page_title') }}</h5>\n            </guest-header>\n\n            <section role=\"main\">\n\n                <form @submit.prevent=\"submit\">\n                    <base-input :auto-focus=\"!requested && !validated\" :disabled=\"requested || validated\" class=\"mb-3\" :label=\"$t('auth.password.props.email')\" type=\"text\" v-model=\"formData.email\" addon-left-icon=\"fas fa-envelope\" :error.sync=\"formErrors.email\" />\n\n                    <template v-if=\"requested\">\n                        <base-input v-if=\"!validated\" :auto-focus=\"requested && !validated\" :disabled=\"requested && validated\" class=\"mb-3\" :label=\"$t('auth.password.props.code')\" type=\"password\" v-model=\"formData.code\" addon-left-icon=\"fas fa-qrcode\" :error.sync=\"formErrors.code\" />\n\n                        <template v-else>\n                            <base-input :auto-focus=\"requested && validated\" class=\"mb-3\" :label=\"$t('auth.password.props.new_password')\" type=\"password\" v-model=\"formData.newPassword\" addon-left-icon=\"fas fa-key\" :error.sync=\"formErrors.newPassword\" />\n\n                            <base-input class=\"mb-3\" :label=\"$t('auth.password.props.new_password_confirmation')\" type=\"password\" v-model=\"formData.newPasswordConfirmation\" addon-left-icon=\"fas fa-key\" :error.sync=\"formErrors.newPasswordConfirmation\" />\n                        </template>\n                    </template>\n\n\n                    <div class=\"text-center\">\n                        <base-button v-if=\"requested && validated\" type=\"submit\" design=\"primary\" block class=\"my-4 text-lg\">{{ $t('auth.password.reset_password') }}</base-button>\n                        <base-button v-else-if=\"requested\" type=\"submit\" design=\"primary\" block class=\"my-4 text-lg\">{{ $t('auth.password.validate_code') }}</base-button>\n                        <base-button v-else type=\"submit\" design=\"primary\" block class=\"my-4 text-lg\">{{ $t('auth.password.request') }}</base-button>\n                    </div>\n\n                    <div class=\"form-group m-b-0\">\n                        <div class=\"col-sm-12 text-center\">\n                            <p><i class=\"fas fa-chevron-left\"></i>\n                                <router-link :to=\"withQuery({ name: 'login' })\" class=\"text-primary m-l-5\"><span class=\"font-weight-bold\">{{ $t('auth.login.back_to_login') }}</span></router-link>\n                            </p>\n                        </div>\n                    </div>\n\n                </form>\n\n            </section>\n\n        </box>\n\n        <guest-footer v-if=\"configs.system\" :footer-credit=\"configs.system.footerCredit\" :version=\"configs.system.version\" />\n\n    </div>\n</template>\n\n<script>\n    import form from '@mixins/auth-form'\n\n    export default {\n        extends: form,\n        data() {\n            return {\n                formData: {\n                    email: '',\n                    code: '',\n                    newPassword: '',\n                    newPasswordConfirmation: '',\n                },\n                requested: false,\n                validated: false\n            }\n        },\n        methods: {\n            submit() {\n                this.isLoading = true\n\n                if(this.requested && this.validated) {\n                    this.ResetPassword(this.formData)\n                        .then(response => {\n                            this.$toasted.success(response.message, this.$toastConfig)\n                            this.$router.push(this.withQuery({ name: 'login' }))\n                        })\n                        .catch(error => {\n                            this.isLoading = false\n                            this.formErrors = formUtil.handleErrors(error)\n                        })\n                } else if(this.requested) {\n                    this.ValidateResetPassword(this.formData)\n                        .then(response => {\n                            this.$toasted.success(response.message, this.$toastConfig)\n                            this.validated = true\n                            this.isLoading = false\n                        })\n                        .catch(error => {\n                            this.isLoading = false\n                            this.formErrors = formUtil.handleErrors(error)\n                        })\n                } else {\n                    this.RequestReset(this.formData)\n                        .then(response => {\n                            this.$toasted.success(response.message, this.$toastConfig)\n                            this.requested = true\n                            this.isLoading = false\n                        })\n                        .catch(error => {\n                            this.isLoading = false\n                            this.formErrors = formUtil.handleErrors(error)\n                        })\n                }\n            },\n        },\n    }\n\n</script>\n<style lang=\"scss\" scoped>\n\n\n</style>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"guest-page\" },\n    [\n      _c(\n        \"box\",\n        [\n          _c(\"animated-loader\", {\n            attrs: {\n              \"is-loading\": _vm.isLoading,\n              \"loader-color\": _vm.vars.loaderColor\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"guest-header\", [\n            _c(\"h5\", [\n              _vm._v(_vm._s(_vm.$t(\"auth.password.forgot.page_title\")))\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"section\", { attrs: { role: \"main\" } }, [\n            _c(\n              \"form\",\n              {\n                on: {\n                  submit: function($event) {\n                    $event.preventDefault()\n                    return _vm.submit.apply(null, arguments)\n                  }\n                }\n              },\n              [\n                _c(\"base-input\", {\n                  staticClass: \"mb-3\",\n                  attrs: {\n                    \"auto-focus\": !_vm.requested && !_vm.validated,\n                    disabled: _vm.requested || _vm.validated,\n                    label: _vm.$t(\"auth.password.props.email\"),\n                    type: \"text\",\n                    \"addon-left-icon\": \"fas fa-envelope\",\n                    error: _vm.formErrors.email\n                  },\n                  on: {\n                    \"update:error\": function($event) {\n                      return _vm.$set(_vm.formErrors, \"email\", $event)\n                    }\n                  },\n                  model: {\n                    value: _vm.formData.email,\n                    callback: function($$v) {\n                      _vm.$set(_vm.formData, \"email\", $$v)\n                    },\n                    expression: \"formData.email\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _vm.requested\n                  ? [\n                      !_vm.validated\n                        ? _c(\"base-input\", {\n                            staticClass: \"mb-3\",\n                            attrs: {\n                              \"auto-focus\": _vm.requested && !_vm.validated,\n                              disabled: _vm.requested && _vm.validated,\n                              label: _vm.$t(\"auth.password.props.code\"),\n                              type: \"password\",\n                              \"addon-left-icon\": \"fas fa-qrcode\",\n                              error: _vm.formErrors.code\n                            },\n                            on: {\n                              \"update:error\": function($event) {\n                                return _vm.$set(_vm.formErrors, \"code\", $event)\n                              }\n                            },\n                            model: {\n                              value: _vm.formData.code,\n                              callback: function($$v) {\n                                _vm.$set(_vm.formData, \"code\", $$v)\n                              },\n                              expression: \"formData.code\"\n                            }\n                          })\n                        : [\n                            _c(\"base-input\", {\n                              staticClass: \"mb-3\",\n                              attrs: {\n                                \"auto-focus\": _vm.requested && _vm.validated,\n                                label: _vm.$t(\n                                  \"auth.password.props.new_password\"\n                                ),\n                                type: \"password\",\n                                \"addon-left-icon\": \"fas fa-key\",\n                                error: _vm.formErrors.newPassword\n                              },\n                              on: {\n                                \"update:error\": function($event) {\n                                  return _vm.$set(\n                                    _vm.formErrors,\n                                    \"newPassword\",\n                                    $event\n                                  )\n                                }\n                              },\n                              model: {\n                                value: _vm.formData.newPassword,\n                                callback: function($$v) {\n                                  _vm.$set(_vm.formData, \"newPassword\", $$v)\n                                },\n                                expression: \"formData.newPassword\"\n                              }\n                            }),\n                            _vm._v(\" \"),\n                            _c(\"base-input\", {\n                              staticClass: \"mb-3\",\n                              attrs: {\n                                label: _vm.$t(\n                                  \"auth.password.props.new_password_confirmation\"\n                                ),\n                                type: \"password\",\n                                \"addon-left-icon\": \"fas fa-key\",\n                                error: _vm.formErrors.newPasswordConfirmation\n                              },\n                              on: {\n                                \"update:error\": function($event) {\n                                  return _vm.$set(\n                                    _vm.formErrors,\n                                    \"newPasswordConfirmation\",\n                                    $event\n                                  )\n                                }\n                              },\n                              model: {\n                                value: _vm.formData.newPasswordConfirmation,\n                                callback: function($$v) {\n                                  _vm.$set(\n                                    _vm.formData,\n                                    \"newPasswordConfirmation\",\n                                    $$v\n                                  )\n                                },\n                                expression: \"formData.newPasswordConfirmation\"\n                              }\n                            })\n                          ]\n                    ]\n                  : _vm._e(),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"text-center\" },\n                  [\n                    _vm.requested && _vm.validated\n                      ? _c(\n                          \"base-button\",\n                          {\n                            staticClass: \"my-4 text-lg\",\n                            attrs: {\n                              type: \"submit\",\n                              design: \"primary\",\n                              block: \"\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              _vm._s(_vm.$t(\"auth.password.reset_password\"))\n                            )\n                          ]\n                        )\n                      : _vm.requested\n                      ? _c(\n                          \"base-button\",\n                          {\n                            staticClass: \"my-4 text-lg\",\n                            attrs: {\n                              type: \"submit\",\n                              design: \"primary\",\n                              block: \"\"\n                            }\n                          },\n                          [\n                            _vm._v(\n                              _vm._s(_vm.$t(\"auth.password.validate_code\"))\n                            )\n                          ]\n                        )\n                      : _c(\n                          \"base-button\",\n                          {\n                            staticClass: \"my-4 text-lg\",\n                            attrs: {\n                              type: \"submit\",\n                              design: \"primary\",\n                              block: \"\"\n                            }\n                          },\n                          [_vm._v(_vm._s(_vm.$t(\"auth.password.request\")))]\n                        )\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"form-group m-b-0\" }, [\n                  _c(\"div\", { staticClass: \"col-sm-12 text-center\" }, [\n                    _c(\n                      \"p\",\n                      [\n                        _c(\"i\", { staticClass: \"fas fa-chevron-left\" }),\n                        _vm._v(\" \"),\n                        _c(\n                          \"router-link\",\n                          {\n                            staticClass: \"text-primary m-l-5\",\n                            attrs: { to: _vm.withQuery({ name: \"login\" }) }\n                          },\n                          [\n                            _c(\"span\", { staticClass: \"font-weight-bold\" }, [\n                              _vm._v(_vm._s(_vm.$t(\"auth.login.back_to_login\")))\n                            ])\n                          ]\n                        )\n                      ],\n                      1\n                    )\n                  ])\n                ])\n              ],\n              2\n            )\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.configs.system\n        ? _c(\"guest-footer\", {\n            attrs: {\n              \"footer-credit\": _vm.configs.system.footerCredit,\n              version: _vm.configs.system.version\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { mapGetters, mapActions } from 'vuex'\n\nimport Box from '@js/views/auth/partials/box'\nimport GuestHeader from '@views/layouts/partials/guest-header'\nimport GuestFooter from '@views/layouts/partials/guest-footer'\n\nexport default {\n    components: {\n        Box,\n        GuestHeader,\n        GuestFooter,\n    },\n    data() {\n        return {\n            formData: {},\n            formErrors: {},\n            initialFormData: null,\n            initianLength: 0,\n            emptyFormData: null,\n            preRequisite: {},\n            isLoading: true,\n            icons: {\n                'facebook': 'fab fa-facebook-f',\n                'twitter': 'fab fa-twitter',\n                'github': 'fab fa-github',\n                'google': 'fab fa-google',\n            },\n            btns: {\n                'facebook': 'btn-facebook',\n                'twitter': 'btn-twitter',\n                'github': 'btn-github',\n                'google': 'btn-google-plus',\n            },\n        }\n    },\n    computed: {\n        ...mapGetters('config', [\n            'configs',\n            'vars',\n        ]),\n        ...mapGetters('user', [\n            'twoFactorSet',\n            'hasRole',\n        ]),\n        selectedLocale() {\n            const locale = getQueryStringByParam('locale')\n            return locale ? locale : this.configs.system.locale\n        },\n        showLocaleSwitcher() {\n            return this.configs.system.locales && this.configs.system.locales.length > 1\n        }\n    },\n    methods: {\n        ...mapActions('config', [\n            'GetConfig',\n        ]),\n        ...mapActions('user', [\n            'Register',\n            'SetCSRF',\n            'Logout',\n            'Login',\n            'LoginUsingOtp',\n            'ResetTwoFactorSet',\n            'RequestReset',\n            'ValidateResetPassword',\n            'ResetPassword',\n            'CheckTwoFactorCode',\n        ]),\n\n        withQuery(toRoute, aTag = false, options = {}) {\n            let routeQuery = this.$route.query\n            let href = ''\n\n            if(!toRoute.hasOwnProperty('query')) {\n                toRoute['query'] = {}\n            }\n\n\n            toRoute.query.locale = routeQuery && routeQuery.locale ? routeQuery.locale : undefined\n\n            if(routeQuery && routeQuery.locale) {\n                href = `${href}?locale=${routeQuery.locale}`\n            }\n\n            if (routeQuery && routeQuery.ref && !(options && options.hasOwnProperty('removeRef') && options.removeRef)) {\n                toRoute.query.ref = routeQuery.ref\n\n                if(href) {\n                    href = `?${href}&ref=${routeQuery.ref}`\n                } else {\n                    href = `?${href}&ref=${routeQuery.ref}`\n                }\n\n                if(href) {\n                    href = `?${href}&ref=${routeQuery.ref}`\n                } else {\n                    href = `?${href}&ref=${routeQuery.ref}`\n                }\n            }\n\n            href = `${toRoute.name}${href}`\n\n            if(aTag) {\n                return href\n            }\n\n            return toRoute\n        },\n\n        switchLocale(locale) {\n            let url = window.location.href\n            window.location.href = updateQueryStringParam(url, 'locale', locale.locale)\n        },\n    },\n    mounted() {\n        this.initialFormData = _.cloneDeep(this.formData)\n        this.isLoading = false\n    },\n    beforeDestroy () {\n        delete this.formData\n        delete this.formErrors\n        delete this.preRequisite\n    },\n}\n","import { render, staticRenderFns } from \"./password.vue?vue&type=template&id=f01a909a&scoped=true&\"\nimport script from \"./password.vue?vue&type=script&lang=js&\"\nexport * from \"./password.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f01a909a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/pia.itebco.com/public_html/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('f01a909a')) {\n      api.createRecord('f01a909a', component.options)\n    } else {\n      api.reload('f01a909a', component.options)\n    }\n    module.hot.accept(\"./password.vue?vue&type=template&id=f01a909a&scoped=true&\", function () {\n      api.rerender('f01a909a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/auth/password.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./password.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./password.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./password.vue?vue&type=template&id=f01a909a&scoped=true&\""],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AARA;AAUA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AArCA;AAdA;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC3PA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAdA;AAqBA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAiBA;AAiBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AA5DA;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApHA;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}