{"version":3,"file":"js/chunks/auth/security.js?id=80780800a3fb249c8792","sources":["webpack:///security.vue","webpack:///./resources/js/views/auth/security.vue?3047","webpack:///./resources/js/mixins/auth-form.js","webpack:///./resources/js/views/auth/security.vue","webpack:///./resources/js/views/auth/security.vue?6dc1","webpack:///./resources/js/views/auth/security.vue?4b4b"],"sourcesContent":["<template>\n    <div class=\"guest-page\">\n        <box>\n            <animated-loader :is-loading=\"isLoading\" :loader-color=\"vars.loaderColor\" />\n\n            <guest-header>\n                <h5>{{ $t('auth.security.page_title') }}</h5>\n            </guest-header>\n\n            <section role=\"main\">\n\n                <form @submit.prevent=\"submit\">\n                    <base-input auto-focus class=\"mb-3\" :label=\"$t('auth.security.props.two_factor_code')\" type=\"text\" name=\"twoFactorCode\" v-model=\"formData.twoFactorCode\" addon-left-icon=\"fas fa-key\" :error.sync=\"formErrors.twoFactorCode\">\n                    </base-input>\n\n                    <div class=\"text-center\">\n                        <base-button type=\"submit\" design=\"primary\" block class=\"my-4 text-lg\">{{ $t('general.proceed') }}</base-button>\n                    </div>\n\n                    <div class=\"form-group m-b-0\">\n                        <div class=\"col-sm-12 text-center\">\n                            <h6 class=\"text-uppercase\">{{ $t('general.or') }}</h6>\n                            <p>\n                                <base-button type=\"button\" @click=\"logout\" design=\"link\"><i class=\"fas fa-power-off\"></i><span class=\"font-weight-bold\">{{ $t('auth.logout') }}</span></base-button>\n                            </p>\n                        </div>\n                    </div>\n\n                </form>\n\n            </section>\n\n        </box>\n\n        <guest-footer v-if=\"configs.system\" :footer-credit=\"configs.system.footerCredit\" :version=\"configs.system.version\" />\n\n    </div>\n</template>\n\n<script>\n    import form from '@mixins/auth-form'\n\n    export default {\n        extends: form,\n        data() {\n            return {\n                formData: {\n                    twoFactorCode: '',\n                },\n            }\n        },\n        methods: {\n            submit() {\n                this.isLoading = true\n                let routeQuery = this.$route.query\n\n                this.CheckTwoFactorCode({\n                        twoFactorCode: this.formData.twoFactorCode\n                    })\n                    .then(response => {\n                        let routeTo = response.reload ? { name: 'appDashboard', query: { reload: 1 } } : { name: 'appDashboard' }\n\n                        if(routeQuery && routeQuery.ref && this.$router.resolve(routeQuery.ref)) {\n                            routeTo = this.$router.resolve(routeQuery.ref).route\n                        }\n\n                        this.ResetTwoFactorSet()\n                            .then(() => {\n                                this.$router.push(routeTo)\n                            })\n                            .catch((error) => {\n                                this.isLoading = false\n                                this.formErrors = formUtil.handleErrors(error)\n                            })\n                    })\n                    .catch(error => {\n                        this.isLoading = false\n                        this.formErrors = formUtil.handleErrors(error)\n                    })\n            },\n\n            logout() {\n                this.isLoading = true\n                this.Logout()\n                    .then(() => {\n                        this.$router.push({ name: 'login' })\n                    })\n            },\n        },\n    }\n\n</script>\n<style lang=\"scss\" scoped>\n\n\n</style>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"guest-page\" },\n    [\n      _c(\n        \"box\",\n        [\n          _c(\"animated-loader\", {\n            attrs: {\n              \"is-loading\": _vm.isLoading,\n              \"loader-color\": _vm.vars.loaderColor\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"guest-header\", [\n            _c(\"h5\", [_vm._v(_vm._s(_vm.$t(\"auth.security.page_title\")))])\n          ]),\n          _vm._v(\" \"),\n          _c(\"section\", { attrs: { role: \"main\" } }, [\n            _c(\n              \"form\",\n              {\n                on: {\n                  submit: function($event) {\n                    $event.preventDefault()\n                    return _vm.submit.apply(null, arguments)\n                  }\n                }\n              },\n              [\n                _c(\"base-input\", {\n                  staticClass: \"mb-3\",\n                  attrs: {\n                    \"auto-focus\": \"\",\n                    label: _vm.$t(\"auth.security.props.two_factor_code\"),\n                    type: \"text\",\n                    name: \"twoFactorCode\",\n                    \"addon-left-icon\": \"fas fa-key\",\n                    error: _vm.formErrors.twoFactorCode\n                  },\n                  on: {\n                    \"update:error\": function($event) {\n                      return _vm.$set(_vm.formErrors, \"twoFactorCode\", $event)\n                    }\n                  },\n                  model: {\n                    value: _vm.formData.twoFactorCode,\n                    callback: function($$v) {\n                      _vm.$set(_vm.formData, \"twoFactorCode\", $$v)\n                    },\n                    expression: \"formData.twoFactorCode\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"text-center\" },\n                  [\n                    _c(\n                      \"base-button\",\n                      {\n                        staticClass: \"my-4 text-lg\",\n                        attrs: { type: \"submit\", design: \"primary\", block: \"\" }\n                      },\n                      [_vm._v(_vm._s(_vm.$t(\"general.proceed\")))]\n                    )\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"form-group m-b-0\" }, [\n                  _c(\"div\", { staticClass: \"col-sm-12 text-center\" }, [\n                    _c(\"h6\", { staticClass: \"text-uppercase\" }, [\n                      _vm._v(_vm._s(_vm.$t(\"general.or\")))\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"p\",\n                      [\n                        _c(\n                          \"base-button\",\n                          {\n                            attrs: { type: \"button\", design: \"link\" },\n                            on: { click: _vm.logout }\n                          },\n                          [\n                            _c(\"i\", { staticClass: \"fas fa-power-off\" }),\n                            _c(\"span\", { staticClass: \"font-weight-bold\" }, [\n                              _vm._v(_vm._s(_vm.$t(\"auth.logout\")))\n                            ])\n                          ]\n                        )\n                      ],\n                      1\n                    )\n                  ])\n                ])\n              ],\n              1\n            )\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.configs.system\n        ? _c(\"guest-footer\", {\n            attrs: {\n              \"footer-credit\": _vm.configs.system.footerCredit,\n              version: _vm.configs.system.version\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { mapGetters, mapActions } from 'vuex'\n\nimport Box from '@js/views/auth/partials/box'\nimport GuestHeader from '@views/layouts/partials/guest-header'\nimport GuestFooter from '@views/layouts/partials/guest-footer'\n\nexport default {\n    components: {\n        Box,\n        GuestHeader,\n        GuestFooter,\n    },\n    data() {\n        return {\n            formData: {},\n            formErrors: {},\n            initialFormData: null,\n            initianLength: 0,\n            emptyFormData: null,\n            preRequisite: {},\n            isLoading: true,\n            icons: {\n                'facebook': 'fab fa-facebook-f',\n                'twitter': 'fab fa-twitter',\n                'github': 'fab fa-github',\n                'google': 'fab fa-google',\n            },\n            btns: {\n                'facebook': 'btn-facebook',\n                'twitter': 'btn-twitter',\n                'github': 'btn-github',\n                'google': 'btn-google-plus',\n            },\n        }\n    },\n    computed: {\n        ...mapGetters('config', [\n            'configs',\n            'vars',\n        ]),\n        ...mapGetters('user', [\n            'twoFactorSet',\n            'hasRole',\n        ]),\n        selectedLocale() {\n            const locale = getQueryStringByParam('locale')\n            return locale ? locale : this.configs.system.locale\n        },\n        showLocaleSwitcher() {\n            return this.configs.system.locales && this.configs.system.locales.length > 1\n        }\n    },\n    methods: {\n        ...mapActions('config', [\n            'GetConfig',\n        ]),\n        ...mapActions('user', [\n            'Register',\n            'SetCSRF',\n            'Logout',\n            'Login',\n            'LoginUsingOtp',\n            'ResetTwoFactorSet',\n            'RequestReset',\n            'ValidateResetPassword',\n            'ResetPassword',\n            'CheckTwoFactorCode',\n        ]),\n\n        withQuery(toRoute, aTag = false, options = {}) {\n            let routeQuery = this.$route.query\n            let href = ''\n\n            if(!toRoute.hasOwnProperty('query')) {\n                toRoute['query'] = {}\n            }\n\n\n            toRoute.query.locale = routeQuery && routeQuery.locale ? routeQuery.locale : undefined\n\n            if(routeQuery && routeQuery.locale) {\n                href = `${href}?locale=${routeQuery.locale}`\n            }\n\n            if (routeQuery && routeQuery.ref && !(options && options.hasOwnProperty('removeRef') && options.removeRef)) {\n                toRoute.query.ref = routeQuery.ref\n\n                if(href) {\n                    href = `?${href}&ref=${routeQuery.ref}`\n                } else {\n                    href = `?${href}&ref=${routeQuery.ref}`\n                }\n\n                if(href) {\n                    href = `?${href}&ref=${routeQuery.ref}`\n                } else {\n                    href = `?${href}&ref=${routeQuery.ref}`\n                }\n            }\n\n            href = `${toRoute.name}${href}`\n\n            if(aTag) {\n                return href\n            }\n\n            return toRoute\n        },\n\n        switchLocale(locale) {\n            let url = window.location.href\n            window.location.href = updateQueryStringParam(url, 'locale', locale.locale)\n        },\n    },\n    mounted() {\n        this.initialFormData = _.cloneDeep(this.formData)\n        this.isLoading = false\n    },\n    beforeDestroy () {\n        delete this.formData\n        delete this.formErrors\n        delete this.preRequisite\n    },\n}\n","import { render, staticRenderFns } from \"./security.vue?vue&type=template&id=d35acc50&scoped=true&\"\nimport script from \"./security.vue?vue&type=script&lang=js&\"\nexport * from \"./security.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d35acc50\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/pia.itebco.com/public_html/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('d35acc50')) {\n      api.createRecord('d35acc50', component.options)\n    } else {\n      api.reload('d35acc50', component.options)\n    }\n    module.hot.accept(\"./security.vue?vue&type=template&id=d35acc50&scoped=true&\", function () {\n      api.rerender('d35acc50', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/auth/security.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./security.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./security.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./security.vue?vue&type=template&id=d35acc50&scoped=true&\""],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AADA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AApCA;AATA;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC3HA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAdA;AAqBA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAiBA;AAiBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AA5DA;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApHA;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAiBA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}